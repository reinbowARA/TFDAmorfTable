<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="static/style/style.css">
    <title>Таблица аморфных материалов</title>
</head>
<script>

    function SwitchURL() {
        console.log(localStorage.getItem('checkboxState'))
        if (localStorage.getItem('checkboxState') !== null) {
            const isCheked = localStorage.getItem('checkboxState')
            checkbox.checked = ischeked
            if (isCheked) {
                window.location.href = "/weapons";
            } else {
                window.location.href = "/descendants";
            }
        } else {
            document.getElementById("toggleSwitch").addEventListener('change', function () {
                localStorage.setItem('checkboxState', this.checked)
                if (this.checked) {
                    window.location.href = "/weapons";
                } else {
                    window.location.href = "/descendants";
                }
            });
        }
    }

</script>
<header>
    <label class="switch">
        <input type="checkbox" id="toggleSwitch" onclick="SwitchURL()">
        <span class="slider round"></span>
    </label>
</header>

<body>
    <table style="background-color: white;">
        <thead>
            <tr>
                <th rowspan="2">{{.Title}}</th>
                <th rowspan="2">{{.PartTitle}}</th>
                <th colspan="7">Аморфы при шансе дропа</th>
            </tr>
            <tr>
                <td>3%</td>
                <td>6%</td>
                <td>10%</td>
                <td>15%</td>
                <td>20%</td>
                <td>32%</td>
                <td>38%</td>
            </tr>
        </thead>
        <tbody>
            {{ range $index, $item := .Data }}
            <tr>
                {{ range $rowIndex, $row := $item }}
                {{ if eq $rowIndex 0 }}
                {{ if ne $row ""}}
                <th rowspan="4">{{$row}}</th>
                {{end}}
                {{else}}
                <td> {{$row}}</td>
                {{end}}
                {{ end }}
            </tr>
            {{ end }}
        </tbody>
    </table>
</body>

</html>